!function(){"use strict";function t(t){if("string"!=typeof t||!t)throw new Error("The id argument must be a string, got: "+t)}function e(t){if(!(t instanceof Element))throw new Error("Expected an element, got: "+t)}function n(t){if(e(t),!c(t,"sf-modal"))throw new Error("Expected element with .sf-modal class, received element with classes: "+t.className)}function o(t){if(null!=t&&!s(t))throw new Error("Expected the callback argument to be a function, got: "+t)}function i(t,e){return s(t)||"function"!=typeof Promise?void e(t):new Promise(function(t){e(t)})}function r(t,e){return t.hasAttribute(e)}function a(t,e){return t.getAttribute(e)}function f(t,e,n){return t.setAttribute(e,n)}function c(t,e){return t.classList.contains(e)}function l(t,e){t.classList.add(e)}function u(t,e){t.classList.remove(e)}function d(t,e){t.classList.toggle(e)}function s(t){return"function"==typeof t}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(t,e){if("TEMPLATE"===t.tagName){var n=r(t,"id")&&a(t,"id")||"";return void(n?h(n,e):s(e)&&e())}return c(t,"sf-modal")?void(c(t,"active")?b(t):p(t,e)):(d(t,"active"),void q(t,e))}function g(t){t.parentElement&&([].slice.call(t.parentElement.childNodes).forEach(function(t){t instanceof HTMLElement&&u(t,"active")}),l(t,"active"))}function E(t,e){var n=document.getElementById(t);n?v(n,e):s(e)&&e()}function p(t,e){var n=t.querySelector(".sf-modal-body");n&&!w(n.children,function(t){return c(t,"sf-modal-close")})&&n.insertAdjacentHTML("afterBegin",'<button class="sf-modal-close" data-sf-close-modal></button>'),l(t,"active"),q(t,e)}function b(t,e){u(t,"active");var n=r(t,"data-sf-modal-clone");q(t,function(o){n&&t.remove(),s(e)&&e(o)})}function h(t,e){var n=document.querySelector('.sf-modal[data-sf-modal-clone="'+t+'"]');if(n)return b(n,e);var o=document.getElementById(t);if(o){var i=function(){var n=o;if("TEMPLATE"===o.tagName&&(n=L(o.content||o)),!n||!c(n,"sf-modal"))return s(e)&&e(),{v:void 0};var i=n.cloneNode(!0);f(i,"data-sf-modal-clone",t),i.removeAttribute("id"),o.parentElement.insertBefore(i,o.nextSibling),i.dispatchEvent(M("sf:dom:add")),requestAnimationFrame(function(){p(i,e)})}();if("object"==typeof i)return i.v}}function y(t){return t.parentNode?[].filter.call(t.parentNode.childNodes,function(e){return e instanceof Element&&e.tagName===t.tagName}).indexOf(t):-1}function w(t,e){for(var n=0,o=t.length;o>n;++n)if(e(t[n],n))return t[n]}function L(t){return w(t.childNodes,function(t){return t instanceof Element})||null}function T(t,e){return t instanceof HTMLElement?r(t,"data-sf-no-scroll-spill")||c(t,"sf-modal")||c(t,"sf-tabset-body")&&c(t.parentElement,"sf-tabset-fixed")?N(t,e):void 0:!1}function N(t,e){return e.deltaY<0&&A(t)||e.deltaY>0&&x(t)?!0:void 0}function A(t){return t.scrollTop<3}function x(t){var e=t.scrollHeight-t.scrollTop-t.offsetHeight;return Math.abs(e)<3}function M(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function q(t,e){if(s(e)){var n=getComputedStyle(t),o=n.transitionDuration,i=n.transitionProperty,r=~o.indexOf("s")&&i?parseFloat(o):0;r?setTimeout(function(){requestAnimationFrame(e)},1e3*r):requestAnimationFrame(e)}}if("object"==typeof window&&window){var P={toggleId:function(e,n){return t(e),o(n),i(n,function(t){E(e,t)})},toggleElem:function(t,n){return e(t),o(n),i(n,function(e){v(t,e)})},openModal:function(t,e){return n(t),o(e),i(e,function(e){p(t,e)})},closeModal:function(t,e){return n(t),o(e),i(e,function(e){b(t,e)})},closeAllModals:function(t){var e=[].slice.call(document.querySelectorAll(".sf-modal.active"));return s(t)||"function"!=typeof Promise?void e.forEach(function(t){b(t)}):Promise.all(e.map(function(t){return new Promise(function(e){b(t,e)})}))}};"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=P:window.stylific=P,document.addEventListener("click",function(t){var e=t.target;if(e instanceof HTMLElement&&!r(e,"data-sf-noclick")&&!("LABEL"===e.tagName&&(r(e,"for")&&document.getElementById(a(e,"for"))||e.querySelector("input,textarea,button,select"))||"INPUT"===e.tagName&&"button"!==e.type||"TEXTAREA"===e.tagName||"SELECT"===e.tagName)){if(c(e,"sf-modal"))return b(e),void m(t);do{if(r(e,"disabled"))return;if(r(e,"data-sf-close-modal")){var n=e.parentElement;do if(c(n,"sf-modal"))return b(n),void m(t);while(n=n.parentElement)}if(c(e,"sf-collapse-head"))return v(e),void m(t);if(c(e,"sf-navbar-toggle"))return v(e),void m(t);if(r(e,"data-sf-toggle"))return v(e),void m(t);if(r(e,"data-sf-toggle-siblings"))return g(e),void m(t);if(r(e,"data-sf-toggle-id"))return E(a(e,"data-sf-toggle-id")),void m(t);if(c(e,"sf-tab-head")){var o=e.parentElement;do if(c(o,"sf-tabset"))break;while(o=o.parentElement);if(o){g(e);var i=o.querySelector(".sf-tabset-body");if(i){var f=i.querySelectorAll(".sf-tab-body"),l=f[y(e)];l&&g(l)}return void m(t)}}if("BUTTON"===e.tagName)return}while(e=e.parentElement)}}),document.addEventListener("keydown",function(t){27===t.keyCode&&[].slice.call(document.querySelectorAll(".sf-modal.active")).forEach(function(e){r(e,"data-sf-noclick")||(m(t),b(e))})}),document.addEventListener("focus",function(t){var e=t.target;if(e instanceof HTMLElement){var n=e.parentElement;n&&r(n,"data-sf-trigger")&&~a(n,"data-sf-trigger").indexOf("focus")&&l(n,"sf-tooltip-visible")}},!0),document.addEventListener("blur",function(t){var e=t.target;if(e instanceof HTMLElement){var n=e.parentElement;n&&r(n,"data-sf-trigger")&&~a(n,"data-sf-trigger").indexOf("focus")&&u(n,"sf-tooltip-visible")}},!0),document.addEventListener("wheel",function(t){var e=t.target;if(e instanceof HTMLElement)do if(T(e,t))return void t.preventDefault();while(e=e.parentElement)})}}();